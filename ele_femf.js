/**
 * 变量：elmck: 必填，账号cookie，
 * cron 5 5 5 5 5 5
 * 2023.8.9 更新：首次发布；
 */

const $ = new Env('枫叶_饿了么福尔魔方');

const _0x5269e4=_0x3364;(function(_0x111e7d,_0x585ea5){const _0x1c4662=_0x3364,_0x541869=_0x111e7d();while(!![]){try{const _0x45e825=-parseInt(_0x1c4662(0x105))/(-0x1c8b+0xc69+0x1023)*(-parseInt(_0x1c4662(0x140))/(0x1e82+-0x11c3*-0x1+-0x3043*0x1))+-parseInt(_0x1c4662(0x1ab))/(0xf6d*0x1+0x1a56+-0x29c0)+parseInt(_0x1c4662(0x150))/(-0x105*0x13+-0x11a*0xa+0x1e67)*(parseInt(_0x1c4662(0x10e))/(0x1*-0x1ce8+0x37d+-0x10*-0x197))+parseInt(_0x1c4662(0x14f))/(0x203b+0x1*0x16c2+-0x1*0x36f7)+parseInt(_0x1c4662(0x16e))/(-0xd*0x21+0x1669+-0x14b5)*(parseInt(_0x1c4662(0x1a8))/(-0x1a3d+0x137a+0x6cb))+-parseInt(_0x1c4662(0x194))/(-0x559*0x1+-0x11bd+-0x1*-0x171f)*(-parseInt(_0x1c4662(0x1a1))/(-0x1*0x1e43+-0x6ea+-0x1*-0x2537))+-parseInt(_0x1c4662(0x16c))/(-0x8cf*-0x4+-0xcc5+-0x166c);if(_0x45e825===_0x585ea5)break;else _0x541869['push'](_0x541869['shift']());}catch(_0x4bc5fe){_0x541869['push'](_0x541869['shift']());}}}(_0x33a3,-0xa80b6+-0x1*0x174f2+0x16ba4b));const {validateCarmeWithType:_0x4cfa40,getCookies:_0x313a08,getUserInfoWithX:_0x4a4a5b,wait:_0x5ad5ca,commonRequest:_0x5f380f,getCoordinates,sign,getToken,checkCk,tryCatchPromise}=require(_0x5269e4(0x19c)),request=require(_0x5269e4(0x189)),_0x57253e=process['env']['ELE_CARME'],_0x1c5d9a=-0x1*0x19cf+0x1*-0x46d+0x1*0x1e4c;function _0x3364(_0x33a392,_0x3364e6){const _0x47a160=_0x33a3();return _0x3364=function(_0xa52969,_0x5ebdd1){_0xa52969=_0xa52969-(0xeb0+0x9f6+-0x17af);let _0x2794f3=_0x47a160[_0xa52969];return _0x2794f3;},_0x3364(_0x33a392,_0x3364e6);}function _0x33a3(){const _0x396cd9=['log','rQAPp','while\x20(true)\x20{}','Vmfia','test','XWqFi','stringify','debu','CImLK','cqWDn','application/x-www-form-urlencoded','qqPic','XjsMU','qYYjS','154dHUvPS','encryptMobile','OhDsi','bIrEI','length','BYDnP','csqyR','JVExa','{\x5c\x22actId\x5c\x22:\x5c\x2220230802212526123181213864\x5c\x22,\x5c\x22bizScene\x5c\x22:\x5c\x22MAGIC_CUBE\x5c\x22,\x5c\x22desc\x5c\x22:\x5c\x22魔方消消乐\x5c\x22}','application/json','counter','ZmGDl','POST','birIL','CKCVi','2518236zyTMSN','24gYCCxP','&api=mtop.koubei.interactioncenter.platform.right.lottery&v=1.0&type=originaljson&dataType=json&timeout=5000&subDomain=shopping&mainDomain=ele.me&H5Request=true&pageDomain=ele.me&ttid=h5%40chrome_android_87.0.4280.141&SV=5.0','vfpri','JJTGC','etXuQ','ctfaq','gger','XwfFb','Qxfst','asweo','lOhup','ykoWN','Mozilla/5.0\x20(Linux;\x20Android\x208.0.0;\x20SM-G955U\x20Build/R16NW)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/87.0.4280.141\x20Mobile\x20Safari/537.36','EsQqY','parse','hNviy','oenCH','UAyrF','VshMn','ghYGK','call','iNOMg','CiMIQ','https://r.ele.me/linkgame/index.html?navType=3&spm-pre=a2ogi.13162730.zebra-ele-login-module-9089118186&spm=a13.b_activity_kb_m71293.0.0','kEccD','xHbJn','福尔魔方闯关成功。获得：','kmcnj','16952826TFwZMg','input','7OlcdUy','IinMi','oOXww','CsMse','PTPkC','nxdaZ','SKZyh','eznxb','init','QMDof','piTRn','SOBMI','EuKuQ','DWctg','onteu','DsdSh','CTReV','KVBee','gLtiL','hMZrF','PputE','aGYEh','*********','Apifox/1.0.0\x20(imsb)','aRFnk','CEcOS','zlMQH','request','OqHOs','20230802212526123181213864','oSdIj','smFax','https://shopping.ele.me/h5/mtop.koubei.interactioncenter.platform.right.lottery/1.0/?jsv=2.6.1&appKey=12574478&t=','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','function\x20*\x5c(\x20*\x5c)','WYNYk','uhMsf','cgogX','64017RMoYMS','apply','UdPpe','EVUos','fAays','wWroN','乐园币','nxwgx','./common.js','UhLzb','obonz','getTime','opLki','30AavDVw','fXmZz','webpD','pedEZ','PWILq','20230802212526148986536967','aPoOB','7161992LkCVXT','brKDB','env','3207786CpwqcR','PNEEN','Secqk','errorMsg','sqqcD','oKTJU','msSNZ','IRKuy','foUjf','CYoHA','YmKOX','MKVqj','vKJMk','ODiBP','WXRlJ','PiAeC','AspoX','SodFB','MmCvr','eFEBo','exit','cGsyn','2A22C0239QW1FOL3UUQY7U','stateObject','9479Rrjhzb','BkgHX','lEuIG','message','discountInfo','JoliR','wsOps','aVdkZ','CboVj','1041625lffXmV','cXORE','DNLkR','lAPQB','20230803112141370370827352','iPLWT','mpuaC','Gjvbz','\x0a******\x20#','MAGIC_CUBE','mtop.koubei.interactioncenter.platform.right.lottery','RenderWay/H5\x20AppName/wap\x20Mozilla/5.0\x20(Linux;\x20Android\x208.0.0;\x20SM-G955U\x20Build/R16NW)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/87.0.4280.141\x20Mobile\x20Safari/537.36','ZQkgl','PfnJz','Scsdo','localId','izpTT','WMCSa','statusCode','MNZZV','hDyOS','amount','constructor','nTybZ','userName','&sign=','split','tqQpt','data','uEmTH','WukOq','zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7','no-cache','xAjPZ','lbgqb','orAXE'];_0x33a3=function(){return _0x396cd9;};return _0x33a3();}async function h5Req(_0x3f45f7,_0x30aa70){const _0x3079c7=_0x5269e4,_0x8f7d4e={'XWqFi':function(_0x5ebf8e,_0x7b8f08){return _0x5ebf8e!==_0x7b8f08;},'lEuIG':_0x3079c7(0x1b1),'onteu':function(_0x4131ea,_0x1ce737){return _0x4131ea(_0x1ce737);},'PWILq':function(_0x1cd790,_0x5aacbe,_0x14bfc0){return _0x1cd790(_0x5aacbe,_0x14bfc0);},'CTReV':_0x3079c7(0x12e),'nxdaZ':_0x3079c7(0x13c),'hMZrF':'https://r.ele.me','UhLzb':_0x3079c7(0x167),'CYoHA':_0x3079c7(0x119),'orAXE':function(_0x3e06cf,_0x2be04a){return _0x3e06cf+_0x2be04a;},'ZYmpQ':'data=','Qxfst':function(_0x1c497f,_0x59281b){return _0x1c497f+_0x59281b;},'Scsdo':function(_0x29e02b,_0x1f76f8){return _0x29e02b+_0x1f76f8;},'iJFAe':function(_0x35197a,_0x131cd8){return _0x35197a+_0x131cd8;},'birIL':_0x3079c7(0x18e),'piTRn':_0x3079c7(0x127),'EVUos':_0x3079c7(0x151),'opLki':_0x3079c7(0x14c),'YaeBS':function(_0x2fcadd,_0x34e930){return _0x2fcadd(_0x34e930);}},_0x11f25b={'authority':'shopping.ele.me','accept':_0x3079c7(0x149),'accept-language':_0x3079c7(0x12d),'cache-control':_0x8f7d4e[_0x3079c7(0x17e)],'content-type':_0x8f7d4e[_0x3079c7(0x173)],'origin':_0x8f7d4e[_0x3079c7(0x181)],'pragma':_0x8f7d4e[_0x3079c7(0x17e)],'referer':_0x8f7d4e[_0x3079c7(0x19d)],'cookie':_0x3f45f7,'x-ele-ua':_0x8f7d4e[_0x3079c7(0x1b4)],'user-agent':_0x3079c7(0x15c)},_0x1cee00=new Date()[_0x3079c7(0x19f)](),_0x2f8328=0x49766e+-0x6de*-0x1df5+-0x574fd6;var _0x7936d=_0x8f7d4e['orAXE'](_0x8f7d4e['ZYmpQ'],_0x8f7d4e['onteu'](encodeURIComponent,JSON[_0x3079c7(0x138)](_0x30aa70)));const _0x43fe27=getToken(_0x3f45f7),_0x82be3e=_0x43fe27[_0x3079c7(0x128)]('_')[0xe0*-0xd+0x397*0x3+0x9b],_0x28a2d4=await _0x8f7d4e[_0x3079c7(0x1a5)](sign,_0x8f7d4e[_0x3079c7(0x131)](_0x8f7d4e[_0x3079c7(0x131)](_0x8f7d4e[_0x3079c7(0x158)](_0x8f7d4e[_0x3079c7(0x158)](_0x82be3e+'&',_0x1cee00),'&'),_0x2f8328),'&')+JSON[_0x3079c7(0x138)](_0x30aa70),process[_0x3079c7(0x1aa)]['ELE_CARME']),_0x3fd6fa={'url':_0x8f7d4e[_0x3079c7(0x11c)](_0x8f7d4e[_0x3079c7(0x131)](_0x8f7d4e['iJFAe'](_0x8f7d4e[_0x3079c7(0x14d)],_0x1cee00),_0x8f7d4e[_0x3079c7(0x178)])+_0x28a2d4,_0x8f7d4e[_0x3079c7(0x197)]),'method':_0x8f7d4e[_0x3079c7(0x1a0)],'headers':_0x11f25b,'body':_0x7936d};return _0x8f7d4e['YaeBS'](tryCatchPromise,_0x24c1a9=>{const _0x424bdd=_0x3079c7,_0x4c32ec={'lwkGP':function(_0x12ab95,_0x3f6ae6){const _0x280838=_0x3364;return _0x8f7d4e[_0x280838(0x137)](_0x12ab95,_0x3f6ae6);},'MmCvr':_0x8f7d4e[_0x424bdd(0x107)],'yBPKy':function(_0x1396fb,_0x3e755e){const _0x430ac2=_0x424bdd;return _0x8f7d4e[_0x430ac2(0x17c)](_0x1396fb,_0x3e755e);}};_0x8f7d4e[_0x424bdd(0x1a5)](request,_0x3fd6fa,(_0x588765,_0x25308b,_0x5a1ea2)=>{const _0xc9aaf1=_0x424bdd;if(_0x4c32ec['lwkGP']('msSNZ',_0x4c32ec[_0xc9aaf1(0xff)]))return![];else _0x4c32ec['yBPKy'](_0x24c1a9,JSON[_0xc9aaf1(0x15e)](_0x5a1ea2));});});}async function initEnv(_0x2b7044,_0x39b8f2,_0x30b954){const _0x3aed90=_0x5269e4,_0x19b9f1={'oenCH':_0x3aed90(0x134),'UdPpe':_0x3aed90(0x14a),'wsOps':function(_0x3a0eac,_0x5d787b){return _0x3a0eac+_0x5d787b;},'ykoWN':function(_0x1ce5ee){return _0x1ce5ee();},'rQAPp':function(_0x53e9a0,_0x3762eb,_0x3974b6){return _0x53e9a0(_0x3762eb,_0x3974b6);},'ZmGDl':_0x3aed90(0x190),'WYNYk':function(_0x18e6fa,_0x25f9fa){return _0x18e6fa(_0x25f9fa);},'nTybZ':function(_0x5b4802){return _0x5b4802();},'aPoOB':function(_0x30f11d,_0x525b6b){return _0x30f11d===_0x525b6b;},'lbgqb':_0x3aed90(0x162),'cXORE':function(_0x4c8b97,_0x21076d){return _0x4c8b97===_0x21076d;},'sqqcD':function(_0x5cd30d,_0x4372f1){return _0x5cd30d===_0x4372f1;},'YmKOX':_0x3aed90(0x121),'aRFnk':_0x3aed90(0x13f),'CKCVi':_0x3aed90(0x15f),'xHbJn':function(_0x27a6eb,_0x5131d8,_0x25f97e){return _0x27a6eb(_0x5131d8,_0x25f97e);},'gLtiL':_0x3aed90(0x14c),'EsQqY':_0x3aed90(0x149)},_0xa6aa07=_0x57253e,_0x41ab31={'method':_0x19b9f1[_0x3aed90(0x180)],'url':process[_0x3aed90(0x1aa)]['HOST']+'/check/getumtid','headers':{'user-agent':_0x3aed90(0x185),'content-type':_0x19b9f1[_0x3aed90(0x15d)]},'body':JSON[_0x3aed90(0x138)]({'carmi':_0xa6aa07,'latitude':_0x39b8f2,'longitude':_0x30b954})};return _0x19b9f1[_0x3aed90(0x191)](tryCatchPromise,_0x2f9199=>{const _0x212100=_0x3aed90,_0x3d16dd={'aVdkZ':function(_0x58f655,_0x318ba4){const _0x21d02d=_0x3364;return _0x19b9f1[_0x21d02d(0x10b)](_0x58f655,_0x318ba4);},'MKVqj':_0x212100(0x16d),'jiNHK':function(_0x3b23e0){const _0x59390e=_0x212100;return _0x19b9f1[_0x59390e(0x15b)](_0x3b23e0);},'JVExa':function(_0x4e6666,_0x15d591,_0x1e5d5f){const _0x272109=_0x212100;return _0x19b9f1[_0x272109(0x133)](_0x4e6666,_0x15d591,_0x1e5d5f);},'oprWu':_0x19b9f1[_0x212100(0x14b)],'OhDsi':function(_0x57cab7,_0x57b2f7){return _0x19b9f1['WYNYk'](_0x57cab7,_0x57b2f7);},'DsdSh':_0x212100(0x176),'Gjvbz':function(_0xcc1d2b){const _0x1d8176=_0x212100;return _0x19b9f1[_0x1d8176(0x125)](_0xcc1d2b);},'SodFB':function(_0x2f6115,_0x337421){const _0x18c7d8=_0x212100;return _0x19b9f1[_0x18c7d8(0x1a7)](_0x2f6115,_0x337421);},'ooKgl':_0x19b9f1[_0x212100(0x130)],'CEcOS':function(_0x2bd5a9,_0x4a50d6){const _0x2660aa=_0x212100;return _0x19b9f1[_0x2660aa(0x10f)](_0x2bd5a9,_0x4a50d6);},'BYDnP':function(_0x410d23,_0x36fede){const _0x516ac8=_0x212100;return _0x19b9f1[_0x516ac8(0x1af)](_0x410d23,_0x36fede);},'uEmTH':_0x19b9f1[_0x212100(0xf7)],'xAjPZ':function(_0x535817,_0x3ed764){return _0x535817||_0x3ed764;},'qqPic':function(_0x470767){return _0x470767();}};if(_0x19b9f1[_0x212100(0x10f)](_0x19b9f1[_0x212100(0x186)],_0x19b9f1[_0x212100(0x14e)]))return function(_0x40d3a8){}[_0x212100(0x124)](IGYCFj[_0x212100(0x160)])[_0x212100(0x195)](IGYCFj[_0x212100(0x196)]);else _0x19b9f1[_0x212100(0x169)](request,_0x41ab31,async(_0x3f164b,_0x4cb464,_0x5db737)=>{const _0x1cb207=_0x212100,_0xa601bc={'vfpri':function(_0x546717,_0x3f4556){const _0xb0a7e=_0x3364;return _0x3d16dd[_0xb0a7e(0x10c)](_0x546717,_0x3f4556);},'WXRlJ':_0x3d16dd[_0x1cb207(0xf8)],'UAyrF':function(_0x4ca848,_0x429047){return _0x4ca848(_0x429047);},'Secqk':function(_0x368e6e){return _0x3d16dd['jiNHK'](_0x368e6e);},'SKZyh':function(_0x2007d9,_0x2ef22e,_0x27f62e){const _0x266617=_0x1cb207;return _0x3d16dd[_0x266617(0x147)](_0x2007d9,_0x2ef22e,_0x27f62e);},'GKpAo':_0x3d16dd['oprWu'],'ghYGK':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','oSdIj':function(_0x5efa26,_0x561ac8){const _0x39d996=_0x1cb207;return _0x3d16dd[_0x39d996(0x142)](_0x5efa26,_0x561ac8);},'EuKuQ':_0x3d16dd[_0x1cb207(0x17d)],'DWctg':function(_0x6ebad7,_0x5338c4){const _0x54e4c4=_0x1cb207;return _0x3d16dd[_0x54e4c4(0x10c)](_0x6ebad7,_0x5338c4);},'oOXww':function(_0x280c7c){const _0x224b39=_0x1cb207;return _0x3d16dd[_0x224b39(0x115)](_0x280c7c);}};if(!_0x3f164b&&_0x3d16dd['SodFB'](_0x4cb464[_0x1cb207(0x120)],0x380*-0x8+0xf*0x22b+0x3*-0x13f)){if(_0x3d16dd[_0x1cb207(0xfe)](_0x3d16dd['ooKgl'],_0x1cb207(0x162))){_0x5db737=JSON['parse'](_0x5db737);if(_0x3d16dd[_0x1cb207(0x187)](_0x5db737['code'],0x6963+-0x420e+0x26cb))_0x3d16dd[_0x1cb207(0x142)](_0x2f9199,_0x5db737['data']);else{if(_0x3d16dd[_0x1cb207(0x145)](_0x3d16dd[_0x1cb207(0x12b)],_0x3d16dd[_0x1cb207(0x12b)]))console[_0x1cb207(0x132)](_0x5db737['message']),_0x3d16dd[_0x1cb207(0x115)](_0x2f9199);else{const _0x5a7296={'JJTGC':_0x1cb207(0x190),'smFax':function(_0xc73eed,_0x42188d){return _0xc73eed(_0x42188d);},'PiAeC':function(_0x253208,_0x158067){const _0x381bbd=_0x1cb207;return hCMjiH[_0x381bbd(0x152)](_0x253208,_0x158067);},'cgogX':hCMjiH[_0x1cb207(0xfb)],'nxwgx':function(_0x39459f,_0x5e6c9a){const _0x51b11f=_0x1cb207;return hCMjiH[_0x51b11f(0x161)](_0x39459f,_0x5e6c9a);},'izpTT':function(_0x2a6ae8){const _0x3d3ca6=_0x1cb207;return hCMjiH[_0x3d3ca6(0x1ad)](_0x2a6ae8);}};hCMjiH[_0x1cb207(0x174)](_0x4e158c,this,function(){const _0x3a8771=_0x1cb207,_0xbc70e4=new _0x5bf47b(_0x5a7296[_0x3a8771(0x153)]),_0x3a78e4=new _0x2ffde5(_0x3a8771(0x18f),'i'),_0x4cff70=_0x5a7296[_0x3a8771(0x18d)](_0x198c99,_0x3a8771(0x176));!_0xbc70e4[_0x3a8771(0x136)](_0x5a7296['PiAeC'](_0x4cff70,'chain'))||!_0x3a78e4[_0x3a8771(0x136)](_0x5a7296[_0x3a8771(0xfc)](_0x4cff70,_0x5a7296[_0x3a8771(0x193)]))?_0x5a7296[_0x3a8771(0x19b)](_0x4cff70,'0'):_0x5a7296[_0x3a8771(0x11e)](_0x241c33);})();}}}else{const _0x2d368e=new _0x50c41c(hCMjiH['GKpAo']),_0x55a78d=new _0x362e09(hCMjiH[_0x1cb207(0x163)],'i'),_0x16b89b=hCMjiH[_0x1cb207(0x18c)](_0x3e62d4,hCMjiH[_0x1cb207(0x17a)]);!_0x2d368e[_0x1cb207(0x136)](hCMjiH[_0x1cb207(0x17b)](_0x16b89b,'chain'))||!_0x55a78d[_0x1cb207(0x136)](_0x16b89b+hCMjiH[_0x1cb207(0xfb)])?_0x16b89b('0'):hCMjiH[_0x1cb207(0x170)](_0x145f1a);}}else console[_0x1cb207(0x132)](_0x3d16dd[_0x1cb207(0x12f)](_0x3f164b,_0x5db737)),_0x3d16dd[_0x1cb207(0x13d)](_0x2f9199);});});}async function _0x109797(_0x49ed2f,_0x4eb919){const _0x74ae33=_0x5269e4,_0x10c67b={'brKDB':function(_0x54ab93,_0x5f38bd){return _0x54ab93+_0x5f38bd;},'hDyOS':_0x74ae33(0x139),'CiMIQ':_0x74ae33(0x156),'XTjXv':_0x74ae33(0x104),'gIYVr':function(_0x39819b){return _0x39819b();},'tUMCT':function(_0x2c1466,_0x2429d2,_0x173d2f,_0x125743){return _0x2c1466(_0x2429d2,_0x173d2f,_0x125743);},'lAPQB':_0x74ae33(0x117),'kEccD':_0x74ae33(0x18b),'BkgHX':_0x74ae33(0x1a6),'XjsMU':_0x74ae33(0x112),'obagB':_0x74ae33(0x148),'tqQpt':function(_0x5b6922,_0x3557ab){return _0x5b6922+_0x3557ab;},'fAays':function(_0x484d27,_0x521670){return _0x484d27===_0x521670;},'eznxb':'uccac','uhMsf':'vobGb','lNnof':function(_0x208816,_0x51cb72,_0x5b03e4){return _0x208816(_0x51cb72,_0x5b03e4);},'iPLWT':function(_0x14c200,_0x175984){return _0x14c200===_0x175984;},'gABmd':'Hwxxw','OqHOs':_0x74ae33(0x16a),'fXmZz':_0x74ae33(0x19a),'ctfaq':function(_0x1f8a90,_0x500040){return _0x1f8a90!==_0x500040;}},_0x17e159=new Date()['getTime'](),{latitude:_0x465ee7,longitude:_0x5da508}=await _0x10c67b['gIYVr'](getCoordinates),{UA:_0x3b4f43,umidtoken:_0x27ea85}=await _0x10c67b['tUMCT'](initEnv,'',_0x465ee7,_0x5da508),_0x3dedf0={'bizScene':_0x10c67b[_0x74ae33(0x111)],'latitude':_0x465ee7,'longitude':_0x5da508,'bizCode':_0x10c67b[_0x74ae33(0x111)],'actId':_0x10c67b[_0x74ae33(0x168)],'collectionId':_0x10c67b[_0x74ae33(0x106)],'componentId':_0x10c67b[_0x74ae33(0x13e)],'extParams':_0x10c67b['obagB'],'requestId':_0x10c67b[_0x74ae33(0x1a9)](_0x10c67b[_0x74ae33(0x129)](_0x10c67b[_0x74ae33(0x168)],_0x17e159),''),'ua':_0x3b4f43,'umidToken':_0x27ea85,'asac':_0x74ae33(0x103)};let _0x3fe99f=_0x74ae33(0x118);try{if(_0x10c67b[_0x74ae33(0x198)](_0x10c67b[_0x74ae33(0x175)],_0x10c67b[_0x74ae33(0x192)]))(function(){return![];}['constructor'](tjtFhB[_0x74ae33(0x1a9)](tjtFhB['hDyOS'],tjtFhB[_0x74ae33(0x166)]))[_0x74ae33(0x195)](tjtFhB['XTjXv']));else{const _0x408161=await _0x10c67b['lNnof'](h5Req,_0x49ed2f,_0x3dedf0);if(_0x408161[_0x74ae33(0x12a)]['data'][_0x74ae33(0x1ae)]){if(_0x10c67b[_0x74ae33(0x113)](_0x74ae33(0x102),'cGsyn'))return console[_0x74ae33(0x132)](_0x408161[_0x74ae33(0x12a)][_0x74ae33(0x12a)]['errorMsg']),![];else(function(){return!![];}['constructor'](tjtFhB[_0x74ae33(0x122)]+_0x74ae33(0x156))[_0x74ae33(0x164)]('action'));}else{if(_0x10c67b[_0x74ae33(0x113)]('Hwxxw',_0x10c67b['gABmd'])){const _0x242ff5=_0x408161[_0x74ae33(0x12a)][_0x74ae33(0x12a)]['sendRightList'][0x57c+0x188d+-0x1e09][_0x74ae33(0x109)][_0x74ae33(0x123)];return console['log'](_0x10c67b[_0x74ae33(0x129)](_0x10c67b[_0x74ae33(0x18a)],_0x242ff5),_0x10c67b[_0x74ae33(0x1a2)]),_0x10c67b[_0x74ae33(0x155)](_0x242ff5,0x22b1+0x511*-0x3+-0x3*0x67f);}else{const _0x2729af=_0x454bbc?function(){const _0x3c970e=_0x74ae33;if(_0x140892){const _0x796f33=_0x39398e[_0x3c970e(0x195)](_0x3b7070,arguments);return _0x4bfccc=null,_0x796f33;}}:function(){};return _0x4558c1=![],_0x2729af;}}}}catch(_0x270d8a){return![];}}async function _0x12d072(){const _0x157bb8=_0x5269e4,_0x3d44f0={'csqyR':function(_0x5e37d0,_0x4ebaef){return _0x5e37d0!==_0x4ebaef;},'zlMQH':_0x157bb8(0x11a),'ZXJdd':_0x157bb8(0x15a),'cqWDn':function(_0x15551d,_0x59acb9){return _0x15551d(_0x59acb9);},'xwNvN':_0x157bb8(0x176),'mpuaC':'chain','KVBee':function(_0x290980,_0x5df841){return _0x290980+_0x5df841;},'wfuwA':'input','OlzGb':function(_0x62c931){return _0x62c931();},'pedEZ':function(_0x15482a,_0x167596,_0x99c285){return _0x15482a(_0x167596,_0x99c285);},'UruSx':function(_0x52252a,_0x2d8d78,_0x53122b){return _0x52252a(_0x2d8d78,_0x53122b);},'SICVe':function(_0x2fc095,_0x235b2b){return _0x2fc095<_0x235b2b;},'xiJuR':function(_0x5a61ad,_0x2af2da,_0x239874,_0x2bb99c){return _0x5a61ad(_0x2af2da,_0x239874,_0x2bb99c);},'vBkqP':'cwGcN','CsMse':_0x157bb8(0x1b3),'CboVj':function(_0x15caa4,_0x50bc37){return _0x15caa4+_0x50bc37;},'IRKuy':_0x157bb8(0x116),'QMDof':function(_0x4b2d28,_0x2fb56a){return _0x4b2d28+_0x2fb56a;},'Vmfia':'账号的\x20id\x20为','IWymC':function(_0xd9ccc0,_0x5aa779){return _0xd9ccc0(_0x5aa779);},'PTPkC':'防止挤爆了，延时\x201\x20秒'},_0x296178=(function(){const _0x4528dc=_0x157bb8,_0x1345cb={'webpD':function(_0x4f6727){return _0x4f6727();}};if(_0x4528dc(0x15a)!==_0x3d44f0['ZXJdd']){const _0x461150=_0x1d3588[_0x4528dc(0x195)](_0x247596,arguments);return _0x59dc93=null,_0x461150;}else{let _0x32f795=!![];return function(_0x200ab1,_0x5bb144){const _0x5e8031=_0x4528dc;if(_0x3d44f0[_0x5e8031(0x146)](_0x3d44f0['zlMQH'],_0x3d44f0[_0x5e8031(0x188)]))_0x4a054e[_0x5e8031(0x132)](_0x3c8b78[_0x5e8031(0x108)]),_0x1345cb[_0x5e8031(0x1a3)](_0xb0cb0c);else{const _0x114fb0=_0x32f795?function(){const _0xcb4677=_0x5e8031;if(_0x5bb144){const _0xb532f5=_0x5bb144[_0xcb4677(0x195)](_0x200ab1,arguments);return _0x5bb144=null,_0xb532f5;}}:function(){};return _0x32f795=![],_0x114fb0;}};}}());(function(){const _0x1fa72c=_0x157bb8;_0x3d44f0[_0x1fa72c(0x1a4)](_0x296178,this,function(){const _0x49ad7a=_0x1fa72c,_0x1a23da=new RegExp(_0x49ad7a(0x190)),_0x140fdb=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x215653=_0x3d44f0[_0x49ad7a(0x13b)](_0x13e3b9,_0x3d44f0['xwNvN']);!_0x1a23da[_0x49ad7a(0x136)](_0x215653+_0x3d44f0[_0x49ad7a(0x114)])||!_0x140fdb['test'](_0x3d44f0[_0x49ad7a(0x17f)](_0x215653,_0x3d44f0['wfuwA']))?_0x3d44f0[_0x49ad7a(0x13b)](_0x215653,'0'):_0x3d44f0[_0x49ad7a(0x146)](_0x49ad7a(0x165),'iNOMg')?_0x137cff():_0x3d44f0['OlzGb'](_0x13e3b9);})();}()),await _0x3d44f0['UruSx'](_0x4cfa40,_0x57253e,-0x1fa+-0x9f9+0xbf4);const _0x172936=_0x3d44f0['cqWDn'](_0x313a08,'elmck');for(let _0x47e797=-0xf8+-0xd6b+0x1*0xe63;_0x3d44f0['SICVe'](_0x47e797,_0x172936[_0x157bb8(0x144)]);_0x47e797++){let _0x58a397=_0x172936[_0x47e797],_0x321be7=await _0x3d44f0['pedEZ'](_0x4a4a5b,_0x58a397,_0x1c5d9a),_0x4687cb=await _0x3d44f0['xiJuR'](checkCk,_0x58a397,_0x47e797,process[_0x157bb8(0x1aa)]['ELE_CARME']);if(!_0x321be7||!_0x321be7[_0x157bb8(0x126)]){if(_0x3d44f0['vBkqP']===_0x3d44f0[_0x157bb8(0x171)])return _0x7d4a94;else continue;}const _0x3ebfc4=_0x321be7[_0x157bb8(0x11d)];let _0x5368d1=_0x321be7[_0x157bb8(0x141)];console[_0x157bb8(0x132)](_0x3d44f0[_0x157bb8(0x10d)](_0x3d44f0[_0x157bb8(0x1b2)],_0x3d44f0[_0x157bb8(0x177)](_0x47e797,-0x258c+0x7b*-0x16+-0x1*-0x301f)),_0x5368d1,_0x157bb8(0x184)),console[_0x157bb8(0x132)](_0x3d44f0[_0x157bb8(0x135)],_0x3ebfc4),await _0x3d44f0['IWymC'](_0x109797,_0x4687cb),console[_0x157bb8(0x132)](_0x3d44f0[_0x157bb8(0x172)]),await _0x5ad5ca(0x1*-0xf45+0x250a+-0x15c4);}process[_0x157bb8(0x101)](-0xe6+-0x2*0x14b+0x37c);}_0x12d072();function _0x13e3b9(_0x39f228){const _0x1074d8=_0x5269e4,_0x2712b4={'ODiBP':function(_0x106dab,_0x5174d5){return _0x106dab(_0x5174d5);},'WMCSa':function(_0x3dac03,_0x1da2e4){return _0x3dac03!==_0x1da2e4;},'bIrEI':'NnJoQ','PNEEN':function(_0x364c80,_0x3d8eea){return _0x364c80!==_0x3d8eea;},'etXuQ':'haqPE','AspoX':'string','WPhyv':_0x1074d8(0x134),'IinMi':'counter','zjnKv':function(_0x3f4bf8,_0x43bd8a){return _0x3f4bf8===_0x43bd8a;},'JoliR':_0x1074d8(0x110),'obonz':function(_0x2a54a2,_0x2e1b3c){return _0x2a54a2/_0x2e1b3c;},'aGYEh':function(_0x5e8f39,_0x29770f){return _0x5e8f39===_0x29770f;},'PputE':function(_0x18f3fa,_0x14796c){return _0x18f3fa%_0x14796c;},'asweo':_0x1074d8(0x11b),'CImLK':function(_0x3dbbf1,_0xdf3f63){return _0x3dbbf1+_0xdf3f63;},'eFEBo':_0x1074d8(0x139),'WukOq':_0x1074d8(0x156),'oKTJU':function(_0x2f0bb8,_0x5cbc29){return _0x2f0bb8===_0x5cbc29;},'wWroN':_0x1074d8(0x16b),'XwfFb':_0x1074d8(0x104),'vKJMk':function(_0xc4fe69,_0x13ea17){return _0xc4fe69(_0x13ea17);}};function _0x4b9aa9(_0x142953){const _0x10202f=_0x1074d8,_0x4cb341={'KeFGv':function(_0x507953,_0x3028c1){const _0x48bef2=_0x3364;return _0x2712b4[_0x48bef2(0xfa)](_0x507953,_0x3028c1);}};if(typeof _0x142953===_0x2712b4[_0x10202f(0xfd)])return function(_0x47f798){}[_0x10202f(0x124)](_0x2712b4['WPhyv'])['apply'](_0x2712b4[_0x10202f(0x16f)]);else{if(_0x2712b4['zjnKv'](_0x10202f(0x179),_0x2712b4[_0x10202f(0x10a)])){if(_0x503d2c)return _0xa8c2f7;else _0x72a70c(0x15f5+-0x16fb+0x1*0x106);}else{if((''+_0x2712b4[_0x10202f(0x19e)](_0x142953,_0x142953))[_0x10202f(0x144)]!==0x69d+-0x11a5*0x2+0x1cae||_0x2712b4[_0x10202f(0x183)](_0x2712b4[_0x10202f(0x182)](_0x142953,-0x25a7+-0xfc2+0x357d*0x1),-0x1267+-0x8a*0x45+0x3799))_0x2712b4[_0x10202f(0x1ac)](_0x2712b4['asweo'],_0x2712b4[_0x10202f(0x159)])?_0x2712b4[_0x10202f(0xfa)](_0xc849a8,_0x5ea3bf[_0x10202f(0x12a)]):function(){const _0x29c473=_0x10202f;if(_0x2712b4[_0x29c473(0x11f)](_0x2712b4[_0x29c473(0x143)],_0x2712b4['bIrEI']))_0x4cb341['KeFGv'](_0x1fd908,'0');else return!![];}[_0x10202f(0x124)](_0x2712b4[_0x10202f(0x13a)](_0x2712b4['eFEBo'],_0x2712b4[_0x10202f(0x12c)]))['call']('action');else{if(_0x2712b4[_0x10202f(0x1b0)](_0x2712b4[_0x10202f(0x199)],_0x2712b4[_0x10202f(0x199)]))(function(){const _0x106865=_0x10202f,_0xfd0abd={'mYiKL':function(_0xfac1c6,_0x4da206){return _0x2712b4['ODiBP'](_0xfac1c6,_0x4da206);}};if(_0x2712b4['PNEEN'](_0x2712b4[_0x106865(0x154)],_0x2712b4['etXuQ']))_0xfd0abd['mYiKL'](_0x264813,-0x14c2+-0xdc4+0x9*0x3d6);else return![];}['constructor'](_0x2712b4[_0x10202f(0x13a)](_0x2712b4[_0x10202f(0x100)],_0x2712b4[_0x10202f(0x12c)]))[_0x10202f(0x195)](_0x2712b4[_0x10202f(0x157)]));else return![];}}}_0x2712b4[_0x10202f(0xf9)](_0x4b9aa9,++_0x142953);}try{if(_0x39f228)return _0x4b9aa9;else _0x4b9aa9(-0x1e3a+-0x2300+-0x16*-0x2f7);}catch(_0x465220){}}

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
